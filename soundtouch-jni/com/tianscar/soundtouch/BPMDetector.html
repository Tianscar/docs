<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_352) on Tue May 02 15:44:20 CST 2023 -->
<title>BPMDetector</title>
<meta name="date" content="2023-05-02">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BPMDetector";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/tianscar/soundtouch/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../com/tianscar/soundtouch/SoundTouch.html" title="class in com.tianscar.soundtouch"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/tianscar/soundtouch/BPMDetector.html" target="_top">Frames</a></li>
<li><a href="BPMDetector.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.tianscar.soundtouch</div>
<h2 title="Class BPMDetector" class="title">Class BPMDetector</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.tianscar.soundtouch.BPMDetector</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="typeNameLabel">BPMDetector</span>
extends java.lang.Object</pre>
<div class="block">The BPMDetector class that invokes native BPMDetector routines through the JNI
 interface.
 <br><br>
 <b>
 Beats-per-minute (BPM) detection routine.
 </b><br>
 The beat detection algorithm works as follows:
 <ul>
 <li>
 Use function 'inputSamples' to input a chunks of samples to the class for
   analysis. It's a good idea to enter a large sound file or stream in smallish
   chunks of around few kilosamples in order not to extinguish too much RAM memory.</li>
 <li>
 Input sound data is decimated to approx 500 Hz to reduce calculation burden,
   which is basically ok as low (bass) frequencies mostly determine the beat rate.
   Simple averaging is used for anti-alias filtering because the resulting signal
   quality isn't of that high importance.</li>
 <li>
 Decimated sound data is enveloped, i.e. the amplitude shape is detected by
   taking absolute value that's smoothed by sliding average. Signal levels that
   are below a couple of times the general RMS amplitude level are cut away to
   leave only notable peaks there.</li>
 <li>
 Repeating sound patterns (e.g. beats) are detected by calculating short-term
   autocorrelation function of the enveloped signal.</li>
 <li>
 After whole sound data file has been analyzed as above, the bpm level is
   detected by function 'getBpm' that finds the highest peak of the autocorrelation
   function, calculates it's precise location and converts this reading to bpm's.</li></ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/tianscar/soundtouch/BPMDetector.html#BPMDetector-int-int-">BPMDetector</a></span>(int&nbsp;numChannels,
           int&nbsp;sampleRate)</code>
<div class="block">Create a new instance of BPM detector.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tianscar/soundtouch/BPMDetector.html#dispose--">dispose</a></span>()</code>
<div class="block">Destroys a BPM detector instance.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>float</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tianscar/soundtouch/BPMDetector.html#getBPM--">getBPM</a></span>()</code>
<div class="block">Analyzes the results and returns the BPM rate.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tianscar/soundtouch/BPMDetector.html#isDisposed--">isDisposed</a></span>()</code>
<div class="block">Return true if the native instance has been destroyed.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tianscar/soundtouch/BPMDetector.html#putSamples-float:A-int-">putSamples</a></span>(float[]&nbsp;samples,
          int&nbsp;numSamples)</code>
<div class="block">Feed 'numSamples' sample frames from 'samples' into the BPM detector.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/tianscar/soundtouch/BPMDetector.html#putSamplesI16-short:A-int-">putSamplesI16</a></span>(short[]&nbsp;samples,
             int&nbsp;numSamples)</code>
<div class="block">Feed 'numSamples' sample frames from 'samples' into the BPM detector.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BPMDetector-int-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BPMDetector</h4>
<pre>public&nbsp;BPMDetector(int&nbsp;numChannels,
                   int&nbsp;sampleRate)</pre>
<div class="block">Create a new instance of BPM detector.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>numChannels</code> - Number of channels in sample data.</dd>
<dd><code>sampleRate</code> - Sample rate in Hz.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="isDisposed--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDisposed</h4>
<pre>public&nbsp;boolean&nbsp;isDisposed()</pre>
<div class="block">Return true if the native instance has been destroyed.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>whether the native instance has been destroyed</dd>
</dl>
</li>
</ul>
<a name="dispose--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dispose</h4>
<pre>public&nbsp;void&nbsp;dispose()</pre>
<div class="block">Destroys a BPM detector instance.</div>
</li>
</ul>
<a name="putSamples-float:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putSamples</h4>
<pre>public&nbsp;void&nbsp;putSamples(float[]&nbsp;samples,
                       int&nbsp;numSamples)</pre>
<div class="block">Feed 'numSamples' sample frames from 'samples' into the BPM detector.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>samples</code> - Sample buffer array.</dd>
<dd><code>numSamples</code> - Number of samples in buffer. Notice that in case of stereo-sound a single sample
                   contains data for both channels.</dd>
</dl>
</li>
</ul>
<a name="putSamplesI16-short:A-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putSamplesI16</h4>
<pre>public&nbsp;void&nbsp;putSamplesI16(short[]&nbsp;samples,
                          int&nbsp;numSamples)</pre>
<div class="block">Feed 'numSamples' sample frames from 'samples' into the BPM detector.
 16bit int sample format version.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>samples</code> - Sample buffer array.</dd>
<dd><code>numSamples</code> - Number of samples in buffer. Notice that in case of stereo-sound a single sample
                   contains data for both channels.</dd>
</dl>
</li>
</ul>
<a name="getBPM--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getBPM</h4>
<pre>public&nbsp;float&nbsp;getBPM()</pre>
<div class="block">Analyzes the results and returns the BPM rate. Use this function to read result
 after whole song data has been input to the class by consecutive calls of
 'inputSamples' function.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Beats-per-minute rate, or zero if detection failed.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/tianscar/soundtouch/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../com/tianscar/soundtouch/SoundTouch.html" title="class in com.tianscar.soundtouch"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/tianscar/soundtouch/BPMDetector.html" target="_top">Frames</a></li>
<li><a href="BPMDetector.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
